# 04. 設計啟發：借鑒 Linux/Unix 哲學

本代理人架構的設計深受 Linux/Unix 設計哲學的啟發。這些經過數十年實踐檢驗的原則為我們構建一個健壯、可擴展且安全的系統提供了寶貴的藍圖。

### 原則一：一切皆檔案 (Everything is a File)
*   **Linux 中：** 將硬體、設備、網絡連接等一切資源都抽象為統一的「檔案」接口。
*   **架構借鏡：** **一切皆插件 (Everything is a Plugin)**。
    *   我們將 `Provider`、`Tool`、`UI` 等所有功能都抽象為遵循標準化接口的「插件」。**通用插件基礎設施** 扮演了 Linux 中虛擬文件系統 (VFS) 的角色，實現了對不同資源的統一管理。

### 原則二：小而美的工具，各司其職 (Small, Sharp Tools)
*   **Linux 中：** `grep`, `sed`, `awk` 等命令都只專注於做好一件事。
*   **架構借鏡：** **專一的插件和節點 (Focused Plugins & Nodes)**。
    *   每個 `Tool` 插件和協調層中的每個 `節點` 都應只具備單一、明確的職責（如 `read_file` 只讀文件，`OCR_Node` 只做識別）。這使得它們易於複用、測試和組合。

### 原則三：萬物皆可管道 (Pipes and Redirection)
*   **Linux 中：** 管道符 `|` 將小工具串聯起來，靈活地組合出強大的工作流。
*   **架構借鏡：** **代理協調層 (Agent Coordination Layer)**。
    *   我們的「代理協調層」扮演的正是「管道」的角色。它負責定義數據流，將不同的「小工具」（即節點）連接起來，形成複雜的處理鏈和圖，實現了 `輸入 -> 處理A -> 處理B -> 輸出` 的流程。

### 原則四：內核空間與用戶空間 (Kernel Space vs. User Space)
*   **Linux 中：** 內核受保護，用戶程序通過穩定的「系統調用 (System Calls)」接口請求內核服務，確保了系統的穩定和安全。
*   **架構借鏡：** **無頭核心與插件生態 (Headless Core vs. Plugins)**。
    *   「無頭代理人核心」扮演**「內核」**的角色，提供底層、安全的服務。
    *   所有插件（Tools, UIs, Providers）都如同**「用戶空間程序」**。
    *   插件必須通過核心定義的「系統調用」（即**雙向通信接口**和工具執行請求）來與核心交互。
    *   核心的**安全層**是這個邊界上最重要的守衛，確保了來自「用戶空間」的危險操作會被「內核」攔截審核。

### 原則五：模塊化設計 (Kernel Modules)
*   **Linux 中：** 可以在運行時動態加載和卸載內核模塊（如驅動程序）。
*   **架構借鏡：** **通用插件基礎設施 (Universal Plugin Infrastructure)**。
    *   這完全對應了我們的插件系統。它允許在代理人運行時，動態地加載新的能力（Tool）、新的「大腦」（Provider）或新的「面孔」（UI），而無需修改或重啟核心。

通過遵循這些來自計算機科學史上最成功項目之一的設計原則，我們的代理人架構能夠天然地具備模塊化、可擴展、安全和靈活的優良特性。
