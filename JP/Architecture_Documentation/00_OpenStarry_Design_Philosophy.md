# 00. OpenStarry 設計哲学 (Design Philosophy)

このドキュメントは、OpenStarry のアーキテクチャを理解するための出発点です。具体的なコード実装には触れず、なぜこのようなシステムを構築するのか、そしてすべての技術的決定を導くコアバリューについて説明します。

---

## コアビジョン：「スクリプト」から「種」へ

現在の AI エージェントの多くは、依然として「スクリプト (Script)」の段階にとどまっています。それらはトリガーされ、ロジックを実行し、終了します。単発で実行される関数のようです。

OpenStarry のビジョンは、エージェントを **「OS プロセス (OS Process)」**、さらには **「デジタル種 (Digital Species)」** へと昇華させることです。

真のエージェントは以下の特質を備えるべきであると考えています。
1.  **持続性 (Persistence):** 独自のライフサイクルを持ち、休眠・復帰が可能で、記憶が連続している。
2.  **主体性 (Identity):** 外部のトリガーに依存せずに存在する。独自のステート、設定、そして「魂」を持っている。
3.  **社会性 (Sociality):** 人間が生まれつき言語能力を備えているように、他のエージェントと協力する能力を生まれつき備えている。

---

## 4つの設計の柱

### 1. カーネルと周辺機器の分離 (Kernel-Peripheral Separation)
これは、Linux の設計哲学から学んだ最も重要な教訓です。

*   **エージェントコア (カーネル)** は純粋です。思考 (LLM との対話)、記憶 (コンテキスト管理)、意思決定 (アクション生成) のみを担当します。CLI で実行されているのか、WhatsApp 上で実行されているのかをエージェントコア自身は知りません。
*   **プラグイン (周辺機器)** は、物理世界とのすべての対話を担当します。すべての I/O (入力/出力)、すべての通信プロトコル (WebSocket, MCP)、すべての具体的な能力 (ファイルの読み取り、メールの送信など) はプラグインです。

**意義:** これにより、エージェントの「魂」をあらゆる「器」に移植できることが保証されます。

### 2. 擬人化された認知フロー (Anthropomorphic Cognitive Flow)
エージェントを単なる `Request -> Response` のサーバーとしてではなく、 **「意識の流れ (Stream of Consciousness)」** を持つ実体として捉えます。

*   **実行ループ (Execution Loop):** これはエージェントの鼓動です。絶えず環境 (イベントキュー) を感知し、情報を処理し、行動を起こします。
*   **短期記憶 (Working Memory):** 人間の注意力が限られているように、エージェントのコンテキストウィンドウも希少なリソースです。単にデータを積み上げるのではなく、戦略的に管理 (忘却、要約) する必要があります。

### 3. フラクタルな協力構造 (Fractal Collaboration)
OpenStarry のシステム構造はフラクタル (Fractal) です。

*   あるエージェントは単なるシンプルなツール (例: 「検索エージェント」) かもしれません。
*   しかし、それは複雑なチーム (例: 「研究開発部エージェント」) かもしれず、その内部は無数の小さなエージェントで構成されています。
*   外部に対しては、それらすべてが同じインターフェース (MCP) を公開します。これにより、アーキテクチャを変更することなく、シンプルなエージェントを積み木のように組み合わせて、極めて複雑な組織を構築できます。

### 4. フィードバックとしてのエラー (Error as Feedback)
従来のソフトウェアでは、エラー (例外) は通常、クラッシュや中断を意味します。
OpenStarry において、 **エラーは学習の機会** です。

*   ツール呼び出しが失敗しても、コアはクラッシュせず、エラー情報を「感覚入力」として LLM にフィードバックします。
*   LLM は自分が間違ったことを「認識」し、修正を試みます (例: パラメータを変更する、別のツールを使用するなど)。
*   この **「自己修正ループ」** は知性の現れです。

---

## 結び

OpenStarry は単なる SDK ではありません。それは **「エージェント・オペレーティングシステム」** の設計図です。開発者の皆様には、以降のドキュメントを読む際、常に次のことを心に留めておいていただきたいと考えています。 **「あなたはコードを書いているのではない、生命を創造しているのだ」** と。