# 01. 理想的なエージェントアーキテクチャ：全体概要

**OpenStarry それ自体が、完全な「エージェント調整レイヤー (Agent Coordination Layer)」ソリューションです。**

これは単なるエージェント開発フレームワークではなく、マルチエージェントシステムの構築、実行、管理、オーケストレーションのための OS レベルのインフラストラクチャです。この調整レイヤーの下で、システムは以下の主要なサブシステムに分解されます。

## コアサブシステム (Sub-systems)

これら5つのサブシステムは5つの器官のようなもので、この調整レイヤーの運用を共同で維持しています。

*   **1. エージェントコア (Agent Core / Kernel):**
    *   **役割：** 「脳と心臓」。
    *   **アーキテクチャ：** **マイクロカーネル (Microkernel)**。最も基本的な実行ループ (Loop)、ステートマシン、イベントバスのみを含みます。すべての具体的な機能（ファイル操作、ネットワーク通信、LLM 呼び出しを含む）はカーネルから切り離され、ユーザ空間（プラグインレイヤー）に配置されます。
    *   **責務：** 純粋な、イベント駆動型の実行エンジン。
    *   (詳細は `02_Headless_Agent_Core.md` を参照)

*   **2. エージェント設計およびテンプレートサービス (Agent Design Service):**
    *   **役割：** 「遺伝子プールと創造ワークショップ」。
    *   **責務：** エージェントの「ブループリント (Templates)」を管理します。エージェントがどのような性格を持ち、どのようなプラグインをロードするかを定義します。実行時に新しい役割を動的に作成することをサポートします。
    *   (詳細は `03_Agent_Design_and_Template_Service.md` を参照)

*   **3. プラグインインフラストラクチャ (Plugin Infrastructure):**
    *   **役割：** 「手足と感覚」。
    *   **責務：** コアがツール (Tools)、通信プロトコル (Listeners)、AI モデル (Providers) をマウントするための標準化されたインターフェースを提供します。
    *   (詳細は `04_Plugin_Infrastructure.md` を参照)

*   **4. オーケストレーターデーモン (Orchestrator Daemon):**
    *   **役割：** 「ライフサイクル管理者 (Init Process)」。
    *   **責務：** エージェントの OS プロセスの起動、監視、再起動、終了を担当します。システムの永続的な運用を保証するための礎石です。
    *   (詳細は `13_Orchestrator_Daemon_Design.md` を参照)

*   **5. 支援エンジン (Supporting Engines):**
    *   **役割：** 「後方支援部門」。
    *   **責務：** 以下のような共有バックエンド機能を提供します。
        *   **記憶エンジン (RAG):** 知識検索。
        *   **セキュリティエンジン (Guardrails):** 権限とコンプライアンスの審査。
        *   **通信戦略:** マルチプロトコル適合とルーティング。
    *   (詳細は `07` および `09` 番のドキュメントを参照)

## 共同ワークフローの概要

1.  **設計 (Design):** 人間またはマスターエージェントが **設計サービス** を通じて新しいエージェントテンプレートを定義します。
2.  **生成 (Spawn):** **オーケストレーターデーモン** がテンプレートを読み取り、新しい OS プロセスを立ち上げて **エージェントコア** を実行します。
3.  **組み立て (Assemble):** 新しいコアが **プラグインインフラストラクチャ** を起動し、指定されたツールと通信プラグインをロードします。
4.  **実行 (Run):** エージェントは、記憶やセキュリティなどの **支援エンジン** の助けを借りてタスクの実行を開始します。
5.  **協力 (Collaborate):** 複数のエージェントが標準プロトコル (MCP など) を介して通信し、複雑な目標を共同で達成します。